<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SentinelPOS Guardian - Security Monitoring Platform</title>
    <meta name="description" content="Comprehensive security monitoring platform for Point of Sale (POS) systems" />
    
    <!-- Preload critical resources -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    
    <!-- Enhanced error handling for missing root element -->
    <script>
      // Ensure the app can handle missing root element gracefully
      window.addEventListener('DOMContentLoaded', function() {
        console.log('üîç DOM loaded, checking for root element...');
        
        const root = document.getElementById('root');
        if (!root) {
          console.error('üö® Critical Error: Root element not found!');
          
          document.body.innerHTML = `
            <div style="
              display: flex; 
              align-items: center; 
              justify-content: center; 
              min-height: 100vh; 
              font-family: system-ui, -apple-system, sans-serif;
              background-color: #f8fafc;
              color: #334155;
              text-align: center;
              padding: 20px;
            ">
              <div>
                <h1 style="color: #dc2626; margin-bottom: 16px; font-size: 24px;">Application Error</h1>
                <p style="margin-bottom: 16px;">The application root element is missing.</p>
                <p style="margin-bottom: 24px; font-size: 14px; color: #64748b;">
                  This indicates a critical build or deployment issue.
                </p>
                <button onclick="window.location.reload()" style="
                  background-color: #dc2626; 
                  color: white; 
                  border: none; 
                  padding: 12px 24px; 
                  border-radius: 6px; 
                  cursor: pointer;
                  font-size: 16px;
                  margin-right: 8px;
                ">
                  Refresh Page
                </button>
                <button onclick="window.location.href='/'" style="
                  background-color: #64748b; 
                  color: white; 
                  border: none; 
                  padding: 12px 24px; 
                  border-radius: 6px; 
                  cursor: pointer;
                  font-size: 16px;
                ">
                  Go Home
                </button>
              </div>
            </div>
          `;
        } else {
          console.log('‚úÖ Root element found successfully');
        }
      });
      
      // Global error handler for uncaught errors
      window.addEventListener('error', function(event) {
        console.error('üö® Global Error:', {
          message: event.message,
          filename: event.filename,
          lineno: event.lineno,
          colno: event.colno,
          error: event.error
        });
      });
      
      // Global handler for unhandled promise rejections
      window.addEventListener('unhandledrejection', function(event) {
        console.error('üö® Unhandled Promise Rejection:', event.reason);
      });
    </script>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
    
    <!-- Fallback for JavaScript disabled -->
    <noscript>
      <div style="
        display: flex; 
        align-items: center; 
        justify-content: center; 
        min-height: 100vh; 
        font-family: system-ui, -apple-system, sans-serif;
        background-color: #f8fafc;
        color: #334155;
        text-align: center;
        padding: 20px;
      ">
        <div>
          <h1 style="color: #dc2626; margin-bottom: 16px; font-size: 24px;">JavaScript Required</h1>
          <p style="margin-bottom: 16px;">SentinelPOS Guardian requires JavaScript to function properly.</p>
          <p>Please enable JavaScript in your browser and refresh the page.</p>
        </div>
      </div>
    </noscript>
  </body>
</html>